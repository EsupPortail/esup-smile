import{c as a,a as e,b as v,t as u,F as h,r as p,w as m,v as f,d as _,e as $,o as r,n as x,f as C,g as D,h as G,i as A,j as V,k as P,l as L}from"./vendor-a8b4b942.js";const g=(t,s)=>{const i=t.__vccOpts||t;for(const[d,n]of s)i[d]=n;return i},U={props:{calendars:{type:Array}},data(){return{yearSelected:new Date().getFullYear(),selectedPeriod:null}},created(){console.log(this.calendars)},computed:{yearSelectedLibelle(){return this.getCurrentYearLibelle()},currentPeriods(){return this.currentCalendar.periods},currentCalendar(){let t=this.calendars.find(s=>s.year===this.yearSelected);return t||(t={id:null,periods:[],year:this.yearSelected}),t}},methods:{getCurrentYearLibelle(){let t=this.yearSelected;return t+"/"+(t+1)},changeYear(t){let s=this.yearSelected;t==="previous"?s--:s++,this.yearSelected=s},selectPeriod(t){this.selectedPeriod=t},formatDate(t){return new Date(t).toLocaleDateString("fr-FR")}}},N={class:"container mt-4"},M=e("h2",null,"Calendrier - Ouverture des inscriptions",-1),E={class:"row mt-2"},I={class:"col"},O=e("i",{class:"fa-solid fa-arrow-left"},null,-1),R=[O],j=e("i",{class:"fa-solid fa-arrow-right"},null,-1),z=[j],F=e("div",{class:"row"},[e("div",{class:"col"},[e("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#modalNewPeriod"},"Nouvelle période")])],-1),H={class:"row mt-2"},Y={class:"col"},B={class:"table table-bordered tablePeriods"},q=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Date de début"),e("th",{scope:"col"},"Date de fin"),e("th",{scope:"col"})])],-1),Q=["onClick"],X=e("i",{class:"fa-2x fa-solid fa-pen-to-square"},null,-1),W=[X],J=["onClick"],Z=e("i",{class:"fa-2x fa-solid fa-trash-can red"},null,-1),K=[Z],ee={class:"modal fade",id:"modalUpdatePeriod",tabindex:"-1","aria-labelledby":"modalUpdatePeriod","aria-hidden":"true"},te={class:"modal-dialog"},se={class:"modal-content"},oe=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"exampleModalLabel"},"Modifier la période"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ne={class:"modal-body"},le={class:"row"},ie={key:0,class:"col"},ae={method:"POST",action:"calendarUpdate"},re={class:"form-control"},de=e("label",{for:"startDateUpdate",class:"form-label"},"Date de début",-1),ce={class:"form-control"},ue=e("label",{for:"endDateUpdate",class:"form-label"},"Date de fin",-1),me={class:"form-control"},he=["value"],pe=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),_e=e("button",{type:"submit",class:"m-1 btn btn-primary"},"Modifier",-1),fe=e("div",{class:"modal-footer"},null,-1),be={class:"modal fade",id:"modalNewPeriod",tabindex:"-1","aria-labelledby":"modalNewPeriod","aria-hidden":"true"},ve={class:"modal-dialog"},ge={class:"modal-content"},Ce=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalNewPeriodLabel"},"Nouvelle période"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ye={class:"modal-body"},Se={class:"row"},we={class:"col"},xe={method:"POST",action:"calendarNew"},Ge=$('<div class="form-control"><label for="startDateNew" class="form-label">Date de début</label><input class="form-control form-control-lg" name="startDateNew" id="startDateNew" type="date"></div><div class="form-control"><label for="endDateNew" class="form-label">Date de fin</label><input class="form-control form-control-lg" name="endDateNew" id="endDateNew" type="date"></div>',2),$e={key:0,class:"form-control"},ke=["value"],Te=["value"],De=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Ae=e("button",{type:"submit",class:"m-1 btn btn-primary"},"Ajouter",-1),Ve=e("div",{class:"modal-footer"},null,-1),Pe={class:"modal fade",id:"modalDeletePeriod",tabindex:"-1","aria-labelledby":"modalDeletePeriod","aria-hidden":"true"},Le={class:"modal-dialog"},Ue={class:"modal-content"},Ne=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"exampleModalLabel"},"Supprimer la période d'ouverture"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Me={key:0,class:"modal-body"},Ee=e("div",{class:"row"},[e("div",{class:"col"}," Voulez-vous vraiment supprimer la période ? ")],-1),Ie={class:"row"},Oe={method:"POST",action:"calendarDelete"},Re={class:"form-control"},je=["value"],ze=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Fe=e("button",{type:"submit",class:"m-1 btn btn-danger"},"Supprimer",-1),He=e("div",{class:"modal-footer"},null,-1);function Ye(t,s,i,d,n,l){return r(),a("div",N,[M,e("div",E,[e("div",I,[e("h3",null,[v("Année "),e("span",{class:"pointer",onClick:s[0]||(s[0]=o=>l.changeYear("previous"))},R),v(" "+u(l.yearSelectedLibelle)+" ",1),e("span",{class:"pointer",onClick:s[1]||(s[1]=o=>l.changeYear("next"))},z)])])]),F,e("div",H,[e("div",Y,[e("table",B,[q,e("tbody",null,[(r(!0),a(h,null,p(l.currentPeriods,o=>(r(),a("tr",{key:o.id},[e("td",null,u(l.formatDate(o.startDate)),1),e("td",null,u(l.formatDate(o.endDate)),1),e("td",null,[e("span",{onClick:c=>l.selectPeriod(o),class:"pointer","data-bs-toggle":"modal","data-bs-target":"#modalUpdatePeriod"},W,8,Q),e("span",{onClick:c=>l.selectPeriod(o),class:"pointer","data-bs-toggle":"modal","data-bs-target":"#modalDeletePeriod"},K,8,J)])]))),128))])])])]),e("div",ee,[e("div",te,[e("div",se,[oe,e("div",ne,[e("div",le,[n.selectedPeriod?(r(),a("div",ie,[e("form",ae,[e("div",re,[de,m(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>n.selectedPeriod.startDate=o),class:"form-control form-control-lg",name:"startDateUpdate",id:"startDateUpdate",type:"date"},null,512),[[f,n.selectedPeriod.startDate]])]),e("div",ce,[ue,m(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>n.selectedPeriod.endDate=o),class:"form-control form-control-lg",name:"endDateUpdate",id:"endDateUpdate",type:"date"},null,512),[[f,n.selectedPeriod.endDate]])]),e("div",me,[e("input",{type:"hidden",name:"periodId",value:n.selectedPeriod.id},null,8,he),pe,_e])])])):_("",!0)])]),fe])])]),e("div",be,[e("div",ve,[e("div",ge,[Ce,e("div",ye,[e("div",Se,[e("div",we,[e("form",xe,[Ge,l.currentCalendar?(r(),a("div",$e,[e("input",{type:"hidden",name:"calendarId",value:l.currentCalendar.id},null,8,ke),e("input",{type:"hidden",name:"calendarYear",value:l.currentCalendar.year},null,8,Te),De,Ae])):_("",!0)])])])]),Ve])])]),e("div",Pe,[e("div",Le,[e("div",Ue,[Ne,n.selectedPeriod?(r(),a("div",Me,[Ee,e("div",Ie,[e("form",Oe,[e("div",Re,[e("input",{type:"hidden",name:"periodId",value:n.selectedPeriod.id},null,8,je),ze,Fe])])])])):_("",!0),He])])])])}const Be=g(U,[["render",Ye]]),qe=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"}));const Qe={props:{},data(){return{composantesDefault:[],composanteGroupesDefault:[],gestionnaires:[],gestionnaireSelected:{composanteGroupes:[]},composanteGroupeSelected:{composantes:[]},nameGroupToAdd:"",searchCgNonA:"",searchCgA:""}},created(){this.getComposanteGroupe()},computed:{cgToAdd(){return this.gestionnaireSelected?this.composanteGroupesDefault.filter(t=>!this.gestionnaireSelected.composanteGroupes.some(s=>s.id===t.id)):[]},cToAdd(){return this.composanteGroupeSelected.id?this.composantesDefault.filter(t=>!this.composanteGroupeSelected.composantes.some(s=>s.id===t.id)&&t.libelle.toLowerCase().includes(this.searchCgNonA.toLowerCase())):[]},cgSelectedComposantes(){return this.composanteGroupeSelected.composantes.filter(t=>t.libelle.toLowerCase().includes(this.searchCgA.toLowerCase()))}},methods:{selectGestionnaire(t){this.gestionnaireSelected=t},selectComposanteGroupe(t){this.composanteGroupeSelected=t},addComposante(t){this.composanteGroupeSelected.composantes.push(t),unicaenVue.axios.post(unicaenVue.url("configuration/addComposanteToGroup"),{composanteGroup:this.composanteGroupeSelected,composante:t}).then(s=>{this.getComposanteGroupe()})},removeComposante(t){const s=this.composanteGroupeSelected.composantes.findIndex(i=>i.id===t.id);s!==-1&&this.composanteGroupeSelected.composantes.splice(s,1),unicaenVue.axios.post(unicaenVue.url("configuration/removeComposanteToGroup"),{composanteGroup:this.composanteGroupeSelected,composante:t}).then(i=>{this.getComposanteGroupe()})},addComposanteGroupe(t){this.gestionnaireSelected.composanteGroupes.push(t),unicaenVue.axios.post(unicaenVue.url("configuration/addAttribution"),{user:this.gestionnaireSelected,cg:t}).then(s=>{if(!s.data.error)this.getComposanteGroupe();else throw s.data})},removeComposanteGroupe(t){const s=this.gestionnaireSelected.composanteGroupes.findIndex(i=>i.id===t.id);s!==-1&&this.gestionnaireSelected.composanteGroupes.splice(s,1),unicaenVue.axios.post(unicaenVue.url("configuration/removeAttribution"),{user:this.gestionnaireSelected,cg:t}).then(i=>{if(!i.data.error)this.getComposanteGroupe();else throw i.data})},getComposanteGroupe(){unicaenVue.axios.get(unicaenVue.url("configuration/getDataComposanteGroup")).then(t=>{if(t.data.error)throw t.data;{let s=t.data;this.gestionnaires=s.gestionnaires,this.composanteGroupesDefault=s.composanteGroupesDefault,this.composantesDefault=s.composantesDefault}})},postAttribution(t,s){},addGroup(){this.nameGroupToAdd&&unicaenVue.axios.post(unicaenVue.url("configuration/addGroup"),{name:this.nameGroupToAdd}).then(t=>{this.getComposanteGroupe()})},deleteGroup(t){t&&unicaenVue.axios.delete(unicaenVue.url(`configuration/deleteGroup/${t.id}`)).then(s=>{this.getComposanteGroupe()})}}},Xe=$('<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#gestionnaires">Gestionnaires</a></li><li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#composantes">Composantes</a></li></ul>',1),We={class:"tab-content"},Je={class:"tab-pane fade show active",id:"gestionnaires"},Ze=e("h2",null,"Liste des Gestionnaires",-1),Ke={class:"row"},et={class:"col-3"},tt={class:"table table-hover"},st=e("th",null,"Nom",-1),ot=["onClick"],nt={class:"col-3"},lt={class:"table table-hover"},it=e("th",null,"Attribué",-1),at=["onClick"],rt=e("i",{class:"icon fa fa-minus","aria-hidden":"true"},null,-1),dt={class:"col-3"},ct={class:"table table-hover"},ut=e("th",null,"Non Attribué",-1),mt=["onClick"],ht=e("i",{class:"icon fa fa-plus","aria-hidden":"true"},null,-1),pt={class:"tab-pane fade",id:"composantes"},_t=e("h2",null,"Liste des Groupes de Composantes",-1),ft={class:"row"},bt={class:"col-3"},vt={class:"col-1"},gt={class:"col-4"},Ct={class:"col-4"},yt={class:"row"},St={class:"col-4"},wt={class:"table table-hover"},xt=e("th",null,"Nom",-1),Gt=e("th",null,null,-1),$t=["onClick"],kt=["onClick"],Tt=e("i",{class:"icon fa fa-trash",style:{color:"red!important"},"aria-hidden":"true"},null,-1),Dt=[Tt],At={class:"col-4"},Vt={class:"table table-hover"},Pt=e("th",null,"Attribué",-1),Lt=["onClick"],Ut=e("i",{class:"icon fa fa-minus","aria-hidden":"true"},null,-1),Nt={class:"col-4"},Mt={class:"table table-hover"},Et=e("th",null,"Non Attribué",-1),It=["onClick"],Ot=e("i",{class:"icon fa fa-plus","aria-hidden":"true"},null,-1);function Rt(t,s,i,d,n,l){return r(),a("div",null,[Xe,e("div",We,[e("div",Je,[Ze,e("div",Ke,[e("div",et,[e("table",tt,[st,e("tbody",null,[(r(!0),a(h,null,p(n.gestionnaires,o=>(r(),a("tr",{class:x({active:n.gestionnaireSelected&&o.id===n.gestionnaireSelected.id}),key:o.id,onClick:c=>l.selectGestionnaire(o)},[e("td",null,u(o.displayName),1)],10,ot))),128))])])]),e("div",nt,[e("table",lt,[it,e("tbody",null,[n.gestionnaireSelected.id?(r(!0),a(h,{key:0},p(n.gestionnaireSelected.composanteGroupes,o=>(r(),a("tr",{key:o.id,onClick:c=>l.removeComposanteGroupe(o)},[e("td",null,[v(u(o.libelle)+" ",1),rt])],8,at))),128)):_("",!0)])])]),e("div",dt,[e("table",ct,[ut,e("tbody",null,[n.gestionnaireSelected.id?(r(!0),a(h,{key:0},p(l.cgToAdd,o=>(r(),a("tr",{key:o.id,onClick:c=>l.addComposanteGroupe(o)},[e("td",null,[v(u(o.libelle)+" ",1),ht])],8,mt))),128)):_("",!0)])])])])]),e("div",pt,[_t,e("div",ft,[e("div",bt,[m(e("input",{class:"form-control",placeholder:"Nom du groupe",type:"text",name:"",id:"","onUpdate:modelValue":s[0]||(s[0]=o=>n.nameGroupToAdd=o)},null,512),[[f,n.nameGroupToAdd]])]),e("div",vt,[e("button",{class:"btn btn-primary",onClick:s[1]||(s[1]=(...o)=>l.addGroup&&l.addGroup(...o))},"Ajouter")]),e("div",gt,[m(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=o=>n.searchCgA=o),placeholder:"Chercher",name:"searchCgA",id:"searchCgA",class:"form-control"},null,512),[[f,n.searchCgA]])]),e("div",Ct,[m(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=o=>n.searchCgNonA=o),placeholder:"Chercher",name:"searchCgNonA",id:"searchCgNonA",class:"form-control"},null,512),[[f,n.searchCgNonA]])])]),e("div",yt,[e("div",St,[e("table",wt,[xt,Gt,e("tbody",null,[(r(!0),a(h,null,p(n.composanteGroupesDefault,o=>(r(),a("tr",{class:x({active:n.composanteGroupeSelected&&o.id===n.composanteGroupeSelected.id}),key:o.id},[e("td",{onClick:c=>l.selectComposanteGroupe(o)},u(o.libelle),9,$t),v(),e("td",{style:{width:"25px"},onClick:c=>l.deleteGroup(o)},Dt,8,kt)],2))),128))])])]),e("div",At,[e("table",Vt,[Pt,e("tbody",null,[n.composanteGroupeSelected?(r(!0),a(h,{key:0},p(l.cgSelectedComposantes,o=>(r(),a("tr",{key:o.id,onClick:c=>l.removeComposante(o)},[e("td",null,[v(u(o.libelle)+" ",1),Ut])],8,Lt))),128)):_("",!0)])])]),e("div",Nt,[e("table",Mt,[Et,e("tbody",null,[n.composanteGroupeSelected?(r(!0),a(h,{key:0},p(l.cToAdd,o=>(r(),a("tr",{key:o.id,onClick:c=>l.addComposante(o)},[e("td",null,[v(u(o.libelle)+" ",1),Ot])],8,It))),128)):_("",!0)])])])])])])])}const jt=g(Qe,[["render",Rt]]),zt=Object.freeze(Object.defineProperty({__proto__:null,default:jt},Symbol.toStringTag,{value:"Module"})),Ft={name:"MonTest",props:{monId:{required:!0,type:Number}},data(){return{contacts:[],courses:[],composantes:[],mobilites:[],langues:[],loading:!1,filterSemester:"",filterComposante:"",filterText:"",filterEcts:"",filterLangue:"",pageSize:30}},async mounted(){await this.getData()},computed:{filteredCourses(){let t=0;return console.log(this.filterComposante,this.filterSemester),this.courses.filter(i=>{let d=!0;return t>=this.pageSize?!1:(this.filterComposanteRes(i)&&this.filterSemesterRes(i)&&this.filterTextRes(i)&&this.filterEctsRes(i)&&this.filterLanguesRes(i)?d=!0:d=!1,d&&t++,d)})}},methods:{toggleSemester(t){console.log(t.s1,t.s2)},filterSemesterRes(t){return this.filterSemester?this.filterSemester==="s1"&&t.s1==="1"?!0:this.filterSemester==="s2"&&t.s2==="1":!0},filterComposanteRes(t){return this.filterComposante?t.composanteId===this.filterComposante:!0},filterTextRes(t){if(this.filterText){let s=t.codeElp.indexOf(this.filterText)!==-1,i=t.libelle.indexOf(this.filterText)!==-1;return!!(s||i)}return!0},filterEctsRes(t){return this.filterEcts?parseInt(t.ects)===this.filterEcts:!0},filterLanguesRes(t){return this.filterLangue?t.langueEnseignement===this.filterLangue:!0},getData(){this.loading=!0,unicaenVue.axios.get(unicaenVue.url("formations/test-data/:monId",{monId:this.monId})).then(t=>{if(!t.data.error)console.log(t),this.courses=t.data.courses,this.composantes=t.data.composantes,this.langues=t.data.langues,this.mobilites=t.data.mobilites;else throw t.data}).catch(t=>{console.log("Error"),console.log(t)}).finally(()=>{console.log("finally"),this.loading=!1})}}},Ht=e("div",{class:"row mt-2"},[e("div",{class:"col"},[e("h2",null,"Courses")])],-1),Yt={class:"row mb-2"},Bt={class:"col-2"},qt=e("option",{value:"",selected:""},"Composante",-1),Qt=["value"],Xt={class:"col-2"},Wt={class:"col-1"},Jt={class:"col-2"},Zt=e("option",{value:"",selected:""},"Langues",-1),Kt=["value"],es={class:"col-2"},ts=e("option",{value:"",selected:""},"S1/S2",-1),ss=e("option",{value:"s1"},"S1",-1),os=e("option",{value:"s2"},"S2",-1),ls=[ts,ss,os],is={class:"row"},as={class:"col"},rs=e("th",null,"Composante",-1),ds=e("th",null,"Code",-1),cs=e("th",null,"Title",-1),us=e("th",null,"ECTS",-1),ms=e("th",null,"Langage",-1),hs=e("th",null,"S1",-1),ps=e("th",null,"S2",-1),_s=e("th",null,"Action",-1),fs={class:"form-check form-switch"},bs=["onUpdate:modelValue","onChange"],vs={class:"form-check form-switch"},gs=["onUpdate:modelValue","onChange"],Cs=e("td",null,null,-1),ys={key:0,style:{position:"absolute",top:"100px",left:"40%"},"xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.0",width:"64px",height:"64px",viewBox:"0 0 128 128","xml:space":"preserve"},Ss=e("g",null,[e("path",{d:"M64 9.75A54.25 54.25 0 0 0 9.75 64H0a64 64 0 0 1 128 0h-9.75A54.25 54.25 0 0 0 64 9.75z",fill:"#039dc1"}),e("animateTransform",{attributeName:"transform",type:"rotate",from:"0 64 64",to:"360 64 64",dur:"1800ms",repeatCount:"indefinite"})],-1),ws=[Ss];function xs(t,s,i,d,n,l){return r(),a(h,null,[Ht,e("div",Yt,[e("div",Bt,[m(e("select",{class:"form-select",name:"searchComposante",id:"searchComposante","onUpdate:modelValue":s[0]||(s[0]=o=>n.filterComposante=o)},[qt,(r(!0),a(h,null,p(n.composantes,o=>(r(),a("option",{value:o.id},u(o.libelle),9,Qt))),256))],512),[[C,n.filterComposante]])]),e("div",Xt,[m(e("input",{class:"form-control",type:"text",name:"searchText",id:"searchText","onUpdate:modelValue":s[1]||(s[1]=o=>n.filterText=o),placeholder:"Chercher Code ou Titre"},null,512),[[f,n.filterText]])]),e("div",Wt,[m(e("input",{class:"form-control",type:"number",name:"searchEcts",id:"searchEcts","onUpdate:modelValue":s[2]||(s[2]=o=>n.filterEcts=o),placeholder:"ECTS"},null,512),[[f,n.filterEcts]])]),e("div",Jt,[m(e("select",{class:"form-select",name:"searchLangue",id:"searchLangue","onUpdate:modelValue":s[3]||(s[3]=o=>n.filterLangue=o)},[Zt,(r(!0),a(h,null,p(n.langues,o=>(r(),a("option",{value:o},u(o),9,Kt))),256))],512),[[C,n.filterLangue]])]),e("div",es,[m(e("select",{class:"form-select",name:"searchSemester",id:"searchSemester","onUpdate:modelValue":s[4]||(s[4]=o=>n.filterSemester=o)},ls,512),[[C,n.filterSemester]])])]),e("div",is,[e("div",as,[e("table",{class:"table table-bordered",style:D([{position:"relative"},{opacity:n.loading?"0.5":1}])},[e("thead",null,[e("tr",null,[rs,ds,cs,us,ms,hs,ps,(r(!0),a(h,null,p(n.mobilites,o=>(r(),a("th",null,u(o.libelle),1))),256)),_s])]),e("tbody",null,[(r(!0),a(h,null,p(l.filteredCourses,o=>(r(),a("tr",null,[e("td",null,u(o.composanteLibelle),1),e("td",null,u(o.codeElp),1),e("td",null,u(o.libelle),1),e("td",null,u(o.ects),1),e("td",null,u(o.langueEnseignement),1),e("td",null,[e("div",fs,[m(e("input",{class:"form-check-input checkS2",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked","onUpdate:modelValue":c=>o.s1=c,"true-value":"1","false-value":"",onChange:c=>l.toggleSemester(o)},null,40,bs),[[G,o.s1]])])]),e("td",null,[e("div",vs,[m(e("input",{class:"form-check-input checkS2",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked","onUpdate:modelValue":c=>o.s2=c,"true-value":"1","false-value":"",onChange:c=>l.toggleSemester(o)},null,40,gs),[[G,o.s2]])])]),Cs]))),256))]),n.loading?(r(),a("svg",ys,ws)):_("",!0)],4),e("span",null,u(n.courses.length)+" results",1)])])],64)}const Gs=g(Ft,[["render",xs]]),$s=Object.freeze(Object.defineProperty({__proto__:null,default:Gs},Symbol.toStringTag,{value:"Module"})),ks={props:{defaultNom:String,defaultPrenom:String},data(){return{form:{nom:this.defaultNom,prenom:this.defaultPrenom,mobilite:""},etablissements:[],mobilites:[],uploadedFiles:{}}},created(){this.fetchEtablissements(),this.fetchMobilites()},methods:{fetchEtablissements(){unicaenVue.axios.get("/inscription/etablissements").then(t=>{this.etablissements=t.data}).catch(t=>{console.error("Erreur lors du chargement des établissements:",t)})},fetchMobilites(){unicaenVue.axios.get("/inscription/mobilites").then(t=>{this.mobilites=t.data}).catch(t=>{console.error("Erreur lors du chargement des types de mobilité:",t)})},submitForm(){console.log("Formulaire envoyé",this.form)},handleFileUpload(t,s){this.uploadedFiles[s]=t.target.files[0]}}},Ts={class:"container mt-4"},Ds=e("h2",null,"Inscription",-1),As={class:"row"},Vs={class:"col-md-6 mb-3"},Ps=e("label",{for:"nom",class:"form-label"},"Nom",-1),Ls={class:"col-md-6 mb-3"},Us=e("label",{for:"prenom",class:"form-label"},"Prénom",-1),Ns={class:"col-md-6 mb-3"},Ms=e("label",{for:"etablissement",class:"form-label"},"Établissement universitaire",-1),Es=e("option",{disabled:"",value:""},"Veuillez sélectionner un établissement",-1),Is=["value"],Os={class:"mb-3"},Rs=e("label",{class:"form-label"},"Type de mobilité",-1),js=["id","value","onUpdate:modelValue"],zs=["for"],Fs={key:0},Hs=["onChange"],Ys=e("button",{type:"submit",class:"btn btn-primary"},"S'inscrire",-1);function Bs(t,s,i,d,n,l){return r(),a("div",Ts,[Ds,e("form",{onSubmit:s[3]||(s[3]=A((...o)=>l.submitForm&&l.submitForm(...o),["prevent"]))},[e("div",As,[e("div",Vs,[Ps,m(e("input",{type:"text",class:"form-control",id:"nom","onUpdate:modelValue":s[0]||(s[0]=o=>n.form.nom=o)},null,512),[[f,n.form.nom]])]),e("div",Ls,[Us,m(e("input",{type:"text",class:"form-control",id:"prenom","onUpdate:modelValue":s[1]||(s[1]=o=>n.form.prenom=o)},null,512),[[f,n.form.prenom]])]),e("div",Ns,[Ms,m(e("select",{id:"etablissement",class:"form-select","onUpdate:modelValue":s[2]||(s[2]=o=>n.form.etablissement=o)},[Es,(r(!0),a(h,null,p(n.etablissements,o=>(r(),a("option",{key:o.id,value:o.id},u(o.libelle),9,Is))),128))],512),[[C,n.form.etablissement]])]),e("div",Os,[Rs,(r(!0),a(h,null,p(n.mobilites,o=>(r(),a("div",{key:o.id,class:"form-check"},[m(e("input",{type:"radio",class:"form-check-input",id:o.id,value:o.id,"onUpdate:modelValue":c=>n.form.mobilite=c},null,8,js),[[V,n.form.mobilite]]),e("label",{class:"form-check-label",for:o.id},u(o.nom),9,zs),n.form.mobilite===o.id?(r(),a("div",Fs,[e("input",{type:"file",onChange:c=>l.handleFileUpload(c,o.id)},null,40,Hs)])):_("",!0)]))),128))]),Ys])],32)])}const qs=g(ks,[["render",Bs]]),Qs=Object.freeze(Object.defineProperty({__proto__:null,default:qs},Symbol.toStringTag,{value:"Module"})),Xs={name:"Documents",props:{},data(){return{}},mounted(){},methods:{}};function Ws(t,s,i,d,n,l){return r(),a("div")}const Js=g(Xs,[["render",Ws]]),Zs=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"}));function Ks(t){for(let s in t)for(let i in t[s])k(t[s][i],s)}function eo(){let t=document.getElementById("unicaen-vue-toast-container");return t||(t=document.createElement("div"),t.id="unicaen-vue-toast-container",t.classList.add("toast-container","position-fixed","top-0","end-0","p-3"),document.body.appendChild(t)),t}function to(t){return t=so(t),t=oo(t),t}function so(t){const s=document.createElement("div");s.innerHTML=t;const i=s.querySelector(".alert");return i?i.innerHTML:s.innerHTML}function oo(t){const s=document.createElement("div");return s.innerHTML=t,s.querySelectorAll("i.fas").forEach(d=>d.style.display="none"),s.innerHTML}function k(t,s){const i={info:"bg-info",success:"bg-success",warning:"bg-warning",error:"bg-danger"},d={info:"info-circle",success:"check-circle",warning:"exclamation-circle",error:"exclamation-triangle"},n=document.createElement("button");n.classList.add("btn-close","btn-close-white","h5"),n.style.float="right",n.setAttribute("data-bs-dismiss","toast"),n.setAttribute("aria-label","Close");const l=document.createElement("i");l.classList.add("icon","fas",`fa-${d[s]}`),l.style.float="left",l.style.fontSize="26pt",l.style.paddingLeft=".4rem",l.style.marginTop=".4rem",l.style.paddingRight="1rem";const o=document.createElement("div");o.classList.add("toast-body"),o.innerHTML=to(t);const c=document.createElement("div");c.appendChild(n),c.appendChild(l),c.appendChild(o);const b=document.createElement("div");b.classList.add("toast","text-white",i[s]?i[s]:"bg-secondary"),b.setAttribute("role","alert"),b.setAttribute("aria-live","assertive"),b.setAttribute("aria-atomic","true"),s==="error"&&t.length>500&&b.setAttribute("style","width:700px"),b.appendChild(c),eo().appendChild(b);const T={animation:!0,delay:s==="warning"?15e3:5e3,autohide:s!=="error"};new bootstrap.Toast(b,T).show()}const S={toast:k,toasts:Ks};let y={...P};y.interceptors.request.use(t=>{if(t.submitter){let s=t.msg?t.msg:"Action en cours";t.popover!=null&&t.popover.dispose(),t.popover=new bootstrap.Popover(t.submitter,{content:`<div class="spinner-border text-primary" role="status">
  <span class="visually-hidden">Loading...</span>
</div> `+s,html:!0,trigger:"focus"}),t.popover.show()}return t});y.interceptors.response.use(t=>{if(t.messages=t.data.messages,t.data=t.data.data,t.hasErrors=!!(t.messages&&t.messages.error&&t.messages.error.length>0),t.config.popover){var s=t.config.popover;let i="";for(ns in t.messages)for(mid in t.messages[ns])i+='<div class="alert fade show alert-'+(ns=="error"?"danger":ns)+'" role="alert">'+t.messages[ns][mid]+"</div>";i?(s._config.content=i,s.setContent(),setTimeout(()=>{s.dispose()},5e3)):s.dispose()}return t.messages&&S.toasts(t.messages),t},t=>{let s=t.response.data;t.response.status==403?s="<h4>403 - Accès interdit</h4><br />Vous n'êtes pas autorisé(e) à faire cette action.":s=t.response.data,S.toast(s,"error")});y.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const no={uvAxios:y},w={axios:no.uvAxios,flashMessenger:S,url:(t,s,i)=>{let d=window.__unicaenVueBaseUrl;if(s)for(let l in s)t=t.replace(`:${l}`,s[l]);let n=i?w.encodeUrlQueryParam(i):null;return d+t+(n?`?${n}`:"")},encodeUrlQueryParam:(t,s)=>{var i=[];for(var d in t)if(t.hasOwnProperty(d)){var n=t[d],l=s?s+"["+encodeURIComponent(d)+"]":encodeURIComponent(d);if(typeof n=="object"&&n!==null)i.push(w.encodeUrlQueryParam(n,l));else{var o=encodeURIComponent(n);i.push(l+"="+o)}}return i.join("&")}};window.unicaenVue=w;function lo(t,s){const i={};s===void 0&&(s={});for(const d in t){let l=d.slice(2,-4).replace("/","");i[l]=t[d].default}for(const d of document.getElementsByClassName("vue-app")){let n=L({template:d.innerHTML,components:i});if(s.beforeMount!==void 0&&s.beforeMount(n),s.autoloads!==void 0)for(const l in s.autoloads){let o=s.autoloads[l].replace("/","");n.component(l,i[o])}n.mount(d),s.afterMount!==void 0&&s.afterMount(n)}}const io={init:lo},ao=Object.assign({"./Configuration/Calendar.vue":qe,"./Configuration/GestionnaireComposante.vue":zt,"./Exemple/MonTest.vue":$s,"./Inscription/Information.vue":Qs,"./Modules/Documents.vue":Zs});io.init(ao);
