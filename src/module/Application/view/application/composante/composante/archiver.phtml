<?php

use Application\Application\Form\Misc\ConfirmationForm;
use Application\Application\View\Renderer\PhpRenderer;
use Application\Controller\Composante\ComposanteController;

/**
 * @see \Application\Controller\Composante\ComposanteController::archiverAction()
 * @var PhpRenderer $this
 * @var string $title
 * @var ConfirmationForm $form
 */

$this->headTitle($title);
?>

<div class="card border-0">
    <?php if ($title) : ?>
        <h1 class="card-header page-header">
            <?= $title ?>
        </h1>
    <?php endif; ?>
    <div class="card-body">
        <?= $this->confirmation($form) ?>
    </div>
</div>



<script>
    $(function () {
        let body = $("body");
        body.off("<?= ComposanteController::EVENT_ARCHIVER?>", closeModal)
            .one("<?= ComposanteController::EVENT_ARCHIVER?>",   closeModal)

        body.off("<?= ComposanteController::EVENT_ARCHIVER?>", refreshFlashMessage)
            .one("<?= ComposanteController::EVENT_ARCHIVER?>",   refreshFlashMessage);
    });
</script>